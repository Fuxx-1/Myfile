# 输出螺旋数列 C语言解决方案
### 题目
>自然界中我们可以常见到一些像螺，蜗牛之类的生物，他们的壳都有一道非常优美的曲线――阿基米德螺线（r=aθ）。这里我想让你帮我用程序写出N阶的型如阿基米德螺线的螺旋数组。例如3阶的螺旋数组为：  
1 2 3  
8 9 4  
7 6 5
### 解答（非最优解）[^1]
[^1]:本人编程萌新，解法仅供参考。  

首先，我们需要获得螺旋数列的阶数并定义二维数组，举例如下：
```C
/* 设我们需要n阶的螺旋数组 */
int n;
scanf("%d", &n);
int a[n][n];
```
其次，我们需要找到螺旋数列的规律，它有四种运动方向，分别是上、下、左、右，而我们可以利用C语言指针的特性给定义好的数组赋值，举例如下：
```C
/* 向右赋值 */
for (int j = 0; j < q; j++)
{
    *p = t; //先赋值，以避免第一个元素漏赋值
    p += 1; //将指针指向下一个需要赋值的元素
    t++;    //为变量t加1，形成公差为一且递增的数列
    *p = t; //为变量赋值，避免该行最后一个元素漏赋值
}
/* 向下赋值 */
for (int j = 0; j < q; j++)
{
    *p = t; //先赋值，以避免第一个元素漏赋值
    p += n; //将指针指向下一个需要赋值的元素
    t++;    //为变量t加1，形成公差为一且递增的数列
    *p = t; //为变量赋值，避免该行最后一个元素漏赋值
}
/* 向右赋值 */
for (int j = 0; j < q; j++)
{
    *p = t; //先赋值，以避免第一个元素漏赋值
    p -= 1; //将指针指向下一个需要赋值的元素
    t++;    //为变量t加1，形成公差为一且递增的数列
    *p = t; //为变量赋值，避免该行最后一个元素漏赋值
}
/* 向上赋值 */
for (int j = 0; j < q; j++)
{
    *p = t; //先赋值，以避免第一个元素漏赋值
    p -= n; //将指针指向下一个需要赋值的元素
    t++;    //为变量t加1，形成公差为一且递增的数列
    *p = t; //为变量赋值，避免该行最后一个元素漏赋值
}
```
之后，由于我们每次需要切换赋值模式和赋值数量，所以我们需要加入一些判断条件以使我们每次赋值有效。  
完整代码及注释如下：  
```C
#include <stdio.h>
int main(void)
{
    int n;
    scanf("%d", &n);
    int m = n + n - 1;
    int q = n - 1;
    int t = 1;
    int a[n][n];
    int *p;
    p = &a[0][0];
    int time = 1;
    /* 获取相关值并进行相关定义及初始化 */
    for (int i = 0; i < (n + n - 1); i++)
    {
        if (time % 4 == 1)
        {
            for (int j = 0; j < q; j++)
            {
                *p = t;
                p += 1;
                t++;
                *p = t;
            }
        }
        else if (time % 4 == 2)
        {
            for (int j = 0; j < q; j++)
            {
                *p = t;
                p += n;
                t++;
                *p = t;
            }
        }
        else if (time % 4 == 3)
        {
            for (int j = 0; j < q; j++)
            {
                *p = t;
                p -= 1;
                t++;
                *p = t;
            }
        }
        else if (time % 4 == 0)
        {
            for (int j = 0; j < q; j++)
            {
                *p = t;
                p -= n;
                t++;
                *p = t;
            }
        }
        if (time % 2 && time != 1)
            q -= 1;
        /* 逐次缩减 */
        time++;
    }
    /* 定义大循环，循环次数为形成该螺旋数组所需的步骤 */
    for (int i = 0; i < n; i++)
    {
        for (int j = 0; j < n; j++)
        {
            printf("%5d", a[i][j]);
        }
        printf("\n");
    }
    return 0;
}
```